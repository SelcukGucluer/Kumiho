<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Untitled Document</title>
		<script src="Kumiho.js"></script>
	</head>

	<body >

		<canvas id="myCanvas" width="700" height="500" > </canvas>

		<script>
		

var k = new Kumiho("myCanvas");

var mygame = {

	init: function($Scp){
		
		$Scp.leftScore = k.Text({X:100, Y:50, width:25, height:25, message:"asdasdasdasasd" })
		$Scp.rightScore = k.Text({X:570, Y:50, width:25, height:25, message:"asdasdasdasasd" })
		$Scp.framerate = k.Text({X:660, Y:480, width:10, height:10, message:"asdasdasdasasd" })
		$Scp.speed = k.Text({X:660, Y:480, width:10, height:10, message:"" })
		
		$Scp.rightRacket =k.Regtengel({X:690, Y:0, width:8, height:70, Speed:5, color:"#B42A0D" })
		$Scp.leftRacket =k.Regtengel({X:0, Y:0, width:8, height:70, Speed:5, color:"#B42A0D" })
		
		$Scp.Rackets = new SpriteCollaction();
		$Scp.Rackets.add($Scp.rightRacket);
		$Scp.Rackets.add($Scp.leftRacket);
		
		$Scp.boll =k.Circle({X:300, Y:300, r:20, Speed:2,color:"#ffffff" })
		
		$Scp.bollspeedx = $Scp.boll.speed;
		$Scp.bollspeedy = $Scp.boll.speed;
		
		
	},

	update: function($Scp){
	
		$Scp.leftScore.message = 0;
		$Scp.rightScore.message = 0;
		$Scp.framerate.message = countFPS();
		$Scp.speed.message = $Scp.bollspeedx;
		
		$Scp.framerate.font = "20px Arial";
		
		$Scp.boll.x = $Scp.boll.x + $Scp.bollspeedx;
		$Scp.boll.y = $Scp.boll.y + $Scp.bollspeedy;
		
		$Scp.speed.x=$Scp.boll.x +20;
		$Scp.speed.y=$Scp.boll.y +20;
		
		if($Scp.boll.y <= 0)
		{
			$Scp.bollspeedy = -$Scp.bollspeedy
		}
		
		if($Scp.boll.y >= 500)
		{
			$Scp.bollspeedy = - $Scp.bollspeedy
		}
		

		$Scp.Rackets.Collision().circleRect.each($Scp.boll,function(s){
		
			if($Scp.bollspeedx > 0){$Scp.bollspeedx = $Scp.bollspeedx + 0.5}
			if($Scp.bollspeedy > 0){$Scp.bollspeedy = $Scp.bollspeedy + 0.5}
			if($Scp.bollspeedx < 0){$Scp.bollspeedx = $Scp.bollspeedx - 0.5}
			if($Scp.bollspeedy < 0){$Scp.bollspeedy = $Scp.bollspeedy - 0.5}
			
			$Scp.leftRacket.speed = $Scp.leftRacket.speed +0.2
			$Scp.rightRacket.speed = $Scp.rightRacket.speed +0.2
			
			$Scp.bollspeedx = - $Scp.bollspeedx
			$Scp.boll.r = $Scp.boll.r - 0.5
		
		});
			
		
		if(k.input.keyPressed[k.input.key.w])
		{
			$Scp.leftRacket.y =  $Scp.leftRacket.y - $Scp.leftRacket.speed;
		}
		if(k.input.keyPressed[k.input.key.arrowup])
		{
			$Scp.rightRacket.y =  $Scp.rightRacket.y - $Scp.rightRacket.speed;
		}
		if(k.input.keyPressed[k.input.key.s])
		{
			$Scp.leftRacket.y =  $Scp.leftRacket.y + $Scp.leftRacket.speed;
		}
		if(k.input.keyPressed[k.input.key.arrowdown])
		{
			$Scp.rightRacket.y =  $Scp.rightRacket.y + $Scp.rightRacket.speed;
		}
		

	},

	draw: function($Scp){
		$Scp.Rackets.draw();
		$Scp.framerate.draw();
		$Scp.leftScore.draw();
		$Scp.rightScore.draw();
		$Scp.speed.draw();
		$Scp.boll.draw();
	}

}

k.run(mygame);


</script>

</body>
</html>
				