<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title>
  <script type="text/javascript" src="Kumiho.js"></script>
</head>

<body>

<canvas id="myCanvas" width="500" height="500" ></canvas>


<script>

 c=document.getElementById("myCanvas");
 ctx=c.getContext("2d");   

    
var myGame = {

	Canvas:c,
	Context:ctx,

	Init: function()
	{
		
        aCollection = Kumiho.SpriteCollaction();
			
		for (i = 0; i < 70; i++) { 
			aCollection.Add(Kumiho.Rectangle({X:Kumiho.Random(1520,1),Y:Kumiho.Random(813,1),Speed:200,width:25,height:25}));
		}
		
		runImage = new Image();	
		runImage.src = "sheet.png";

		BgImage = new Image();	
		BgImage.src = "Back_ggi_hellsforest.png";
		
		FrameRate = Kumiho.Text({X:50, Y:50});
		currentpos = 0;

	},

	Update: function()
	{
		

		currentpos += Kumiho.delta
		if(currentpos > 1)
		{
			currentpos = 0;
			FrameRate.message = Math.floor(Kumiho.delta * 60 * 60)
		}
		
		
	
		aCollection.EachWhitIndex(function(Sprite,i){
			
			Sprite.Color = "yellow";
			
			var list = aCollection.Collision(Sprite);
				
			for (var z = 0; z < list.length ; z++) { 
				list[z].Color = "red";
			}
			
			
			if(Kumiho.Controls.keyPressed[38]==true && i ==5 )
			{
				Sprite.y = Sprite.y - Sprite.Distance();
			}
		
			if(Kumiho.Controls.keyPressed[39]==true && i ==5 )
			{
				Sprite.x = Sprite.x + Sprite.Distance();
			}
		
			if(Kumiho.Controls.keyPressed[40]==true && i ==5 )
			{
				Sprite.y = Sprite.y + Sprite.Distance();
			}
		
			if(Kumiho.Controls.keyPressed[37]==true && i ==5 )
			{
				Sprite.x = Sprite.x - Sprite.Distance();
			}			
			
			if(i == 5 )
			{
				Kumiho.Camera.Fallow(Sprite);
			}
			

		});	
		
		
        
 	},
	
	Draw: function()
	{    
	
		Kumiho.Scene.Draw(BgImage);
		FrameRate.Draw();
		aCollection.Draw();
 
	}
    
	
};
    

Kumiho.Run(myGame);


</script>



</body>
</html>
